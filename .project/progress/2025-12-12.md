# Aura Project Status - December 12, 2025

## Executive Summary

**Aura** is a **local-first, privacy-safe AI foundation** for knowledge work. The **Developer Module MVP is complete** with full workflow UI, multi-language code indexing (30+ languages via TreeSitter), and cloud LLM support.

---

## Feature Inventory

### Core Infrastructure (Aura.Foundation) âœ… Complete

| Feature | Status | Implementation |
|---------|--------|----------------|
| Agent System | âœ… | Hot-reloadable markdown agents with YAML frontmatter |
| Capability Routing | âœ… | Two-tier model (ADR-011): primary + language-specific |
| LLM Providers | âœ… | Ollama (local), Azure OpenAI, OpenAI |
| RAG Pipeline | âœ… | PostgreSQL + pgvector, semantic search |
| Tool Framework | âœ… | ReAct executor with typed tools (ADR-012) |
| Prompt Templates | âœ… | Handlebars with frontmatter (ragQueries, tools) |
| Data Layer | âœ… | EF Core + PostgreSQL, clean migrations |

### Developer Module (Aura.Module.Developer) âœ… Complete

| Feature | Status | Implementation |
|---------|--------|----------------|
| Workflow Lifecycle | âœ… | Create â†’ Analyze â†’ Plan â†’ Execute â†’ Complete |
| Git Worktrees | âœ… | Isolated branches for parallel work |
| Assisted Workflow UI | âœ… | Step-by-step with approve/reject/skip/chat/reassign |
| Roslyn Tools | âœ… | 6 C# semantic tools (find, validate, navigate) |
| Graph RAG | âœ… | Code graph with CodeNode/CodeEdge (ADR-015) |
| TreeSitter Indexing | âœ… | 30+ languages via TreeSitter.DotNet v1.1.1 |
| Semantic Enrichment | âœ… | Docstrings, signatures, params, types, imports |

### VS Code Extension âœ… Complete

| Feature | Status |
|---------|--------|
| Workflow Tree View | âœ… Grouped by status, filtered by workspace |
| Workflow Panel | âœ… Full create/analyze/plan/execute UI |
| Step Management | âœ… Approve/reject/skip/chat/reassign |
| Iterative Refinement | âœ… Re-run steps, cascade rework |
| Agent Tree View | âœ… Hierarchical by capability |
| Status Tree View | âœ… Health, Ollama models, RAG stats |
| Chat Panels | âœ… Per-agent chat windows |

### Testing âœ… Complete

- **205+ unit tests** passing
- **Integration tests** with Testcontainers
- **TreeSitter tests** - 17 tests for semantic extraction

---

## Code Indexing Pipeline

### Ingester Priority Chain

| Priority | Agent | Technology | Languages |
|----------|-------|------------|-----------|
| 10 | CSharpIngesterAgent | Roslyn | C# (full semantic) |
| 20 | TreeSitterIngesterAgent | TreeSitter.DotNet | Python, TS, JS, Go, Rust, Java + 24 more |
| 40 | generic-code-ingester | LLM | F#, unsupported languages |
| 70 | TextIngesterAgent | Line-based | Plain text, markdown |
| 99 | FallbackIngesterAgent | None | Anything else |

### Semantic Extraction (Phase 2a Complete)

TreeSitter now extracts:
- **Signatures** - function/method signature lines
- **Docstrings** - triple-quote (Python), JSDoc, Javadoc, `///` (Rust)
- **Parameters** - name, type, default value, description
- **Return Types** - from annotations
- **Decorators/Attributes** - `@decorator`, `#[attr]`, annotations
- **Type References** - types used in signatures
- **Imports** - module dependencies

---

## API Endpoints

All endpoints in `src/Aura.Api/Program.cs`:

### Workflows
```
POST   /api/developer/workflows                         # Create
GET    /api/developer/workflows                         # List
GET    /api/developer/workflows/{id}                    # Get with steps
POST   /api/developer/workflows/{id}/analyze            # RAG enrichment
POST   /api/developer/workflows/{id}/plan               # Generate steps
```

### Step Execution & Management
```
POST   .../steps/{stepId}/execute     # Run step with ReAct
POST   .../steps/{stepId}/approve     # Mark output approved âœ“
POST   .../steps/{stepId}/reject      # Reject with feedback
POST   .../steps/{stepId}/skip        # Skip with reason
POST   .../steps/{stepId}/chat        # Chat with agent
POST   .../steps/{stepId}/reassign    # Change assigned agent
PUT    .../steps/{stepId}/description # Edit step description
```

### RAG & Graph
```
POST   /api/rag/index/directory       # Index a directory
POST   /api/rag/search                # Semantic search
GET    /api/rag/stats/directory       # Directory stats
POST   /api/semantic/index            # Graph + embeddings
POST   /api/graph/index               # Roslyn code graph only
```

---

## Remaining Planned Work

### High Priority

| Task | Spec/Task File | Status | Description |
|------|----------------|--------|-------------|
| **Dependency Graph Edges** | `tasks/treesitter-ingesters.md` Phase 3 | ðŸ”² Not Started | Create `Imports` edges in code graph, enable "find all files that import X" |
| **Unified Software Development** | `spec/unified-software-development-capability.md` | ðŸ”² Draft | Consolidate `*-coding` capabilities to single `software-development-{language}` |

### Medium Priority

| Task | Spec/Task File | Status | Description |
|------|----------------|--------|-------------|
| **Smart Content (LLM Summaries)** | `tasks/gap-01-smart-content.md` | ðŸ”² Not Started | LLM-generated summaries for undocumented code |
| **Content File Indexing** | `tasks/gap-02-content-files.md` | ðŸ”² Not Started | Index markdown, config, scripts as first-class nodes |
| **Cross-File Enrichment** | `tasks/gap-03-enrichment.md` | ðŸ”² Not Started | Transitive call chains, test-to-code mappings |
| **Tool Execution Prompt Binding** | `spec/tool-execution-for-agents.md` | ðŸ”„ Partial | Part 1 (frontmatter) done, Part 2 (full binding) pending |

### Lower Priority / Future

| Task | Spec/Task File | Status | Description |
|------|----------------|--------|-------------|
| **MCP Server** | `tasks/gap-04-mcp-server.md` | ðŸ”² Not Started | Expose graph as MCP server for AI assistants |
| **Multi-Workspace Registry** | `tasks/gap-05-multi-workspace.md` | ðŸ”² Not Started | Index multiple repos, cross-workspace queries |
| **Condensed Export** | `tasks/gap-06-condensed-export.md` | ðŸ”² Not Started | Export graph to portable JSONL |
| **Boolean Queries** | `tasks/gap-07-boolean-queries.md` | ðŸ”² Not Started | Support AND/OR/NOT in RAG search |
| **Indexing Progress UI** | `tasks/indexing-progress-ui.md` | ðŸ”² Not Started | Show indexing progress in extension |

### Future Verticals (Post-MVP)

| Module | Description | Status |
|--------|-------------|--------|
| **Aura.Module.Research** | Paper management, synthesis, citations | ðŸ“‹ Planned |
| **Aura.Module.Personal** | Receipts, budgets, general assistant | ðŸ“‹ Planned |

---

## Recent Commits (Last 30 Days)

```
0b4ad70 docs: add Podman/WSL troubleshooting guide
7c1666d refactor: Rename Start-Demo.ps1 to Start-Dev.ps1
a7a06f2 feat: Make LLM provider config required
dbd81b2 Skip worktree indexing when repository is already indexed
58b0dfc Fix step status stuck in Running when HTTP request is cancelled
83505df Add testing capabilities to roslyn-coding agent
3ad23b2 feat: unify LLM config and add git tools for agents
0330d19 feat: Add tools frontmatter to prompts
bee236b docs: mark Phase 2a semantic enrichment complete
52ebe83 feat(rag): TreeSitter semantic enrichment with docstrings, imports, and type info
ab39515 feat: add multi-language ingesters and improve extension UX
7b770d4 feat: Hierarchical agents tree, Rust support, enrichment capability
4dc44e4 Phase 2-3: Execute gating and output approval
0a1dfb9 WIP: Phase 1 Assisted Workflow UI - Step card redesign
7f8f34a Add Azure OpenAI and OpenAI providers for cloud LLM support
d1715fb feat(graph-rag): implement Graph RAG for code understanding (ADR-015)
de4f88d Complete all 10 tools and add ReAct API endpoint
28a90f0 Add EchoTool and comprehensive typed tool tests
14629bf Phase 1: Foundation Tool Framework - ReAct Executor and Typed Tools
```

---

## Key Architecture Decisions

| ADR | Title | Status |
|-----|-------|--------|
| ADR-011 | Two-Tier Capability Model | âœ… Implemented |
| ADR-012 | Tool-Using Agents (ReAct) | âœ… Implemented |
| ADR-013 | Strongly-typed Agent Contracts | âœ… Implemented |
| ADR-014 | Developer Module Roslyn Tools | âœ… Implemented |
| ADR-015 | Graph RAG for Code | âœ… Implemented |
| ADR-016 | Configurable RAG Queries | âœ… Implemented |
| ADR-017 | Case-Insensitive Paths | âœ… Implemented |
| ADR-018 | Prompt Template Architecture | âœ… Implemented |

---

## Project Health

| Metric | Value |
|--------|-------|
| **Projects** | 5 (down from 17 in original) |
| **Lines of Code** | ~15,000 (down from 38,000) |
| **Test Count** | 205+ |
| **Test Pass Rate** | 100% |
| **Languages Indexed** | 30+ via TreeSitter |
| **LLM Providers** | 3 (Ollama, Azure OpenAI, OpenAI) |

---

## Next Steps (Recommended Priority)

1. **Dependency Graph Phase 3** - Create import edges for "find all files that import X" queries
2. **Unified Capability Model** - Simplify agent capabilities to `software-development-{language}`
3. **Smart Content** - Add LLM summaries for undocumented code (use TreeSitter docstrings first)
4. **Content File Indexing** - Treat markdown/config as first-class graph nodes

---

## References

| Document | Purpose |
|----------|---------|
| `.project/STATUS.md` | Master status (for AI prompts) |
| `.project/ARCHITECTURE-QUICK-REFERENCE.md` | API endpoints, file locations |
| `.project/plan/implementation/00-overview.md` | Implementation phases |
| `.project/spec/00-overview.md` | System design overview |
| `.project/tasks/*.md` | Individual task specifications |
